---
page_title: "shell_script (Data Source) - terraform-provider-shell"
subcategory: ""
description: |-
  The Shell script data source (shell_script) allows you to execute an arbitrary command as the read part of a Terraform lifecycle. The script must output a JSON string to the file defined by the TF_SCRIPT_OUTPUT environment variable and the file must be consistent on re-reading.
---

# shell_script (Data Source)

The _Shell_ script data source (`shell_script`) allows you to execute an arbitrary command as the read part of a _Terraform_ lifecycle. The script must output a JSON string to the file defined by the `TF_SCRIPT_OUTPUT` environment variable and the file must be consistent on re-reading.

## Example Usage

```terraform
data "shell_script" "example" {
  environment = {
    "TF_VERSION_COUNT" = "3"
  }

  command = <<-EOF
    set -euo pipefail
    curl -s https://endoflife.date/api/terraform.json | jq -rc --argjson count "$${TF_VERSION_COUNT}" '[sort_by(.releaseDate) | reverse | .[0:$count] | .[].latest]' > "$${TF_SCRIPT_OUTPUT}"
  EOF
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `command` (String) The command to run when reading the data source; this must write a JSON string to the file defined by the `TF_SCRIPT_OUTPUT` environment variable.

### Optional

- `environment` (Map of String) The environment variables to set when executing command; to be combined with the OS environment and the provider environment.
- `interpreter` (List of String) The interpreter to use for executing the command; if not set the provider interpreter will be used.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `working_directory` (String) The working directory to use when executing the command; this will default to the _Terraform_ working directory..

### Read-Only

- `output` (Dynamic) The output of the script as a structured type.

<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `read` (String) Timeout for reading the data source; this defaults to the provider value if not set. This should be a string that can be [parsed as a duration] (https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as `30s` or `2h45m`. Valid time units are `s` (seconds), `m` (minutes), `h` (hours).
